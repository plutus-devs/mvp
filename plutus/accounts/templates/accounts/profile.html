{% extends 'base.html' %}
{% load static %}

{% block search_bar %}
{% endblock search_bar %}

{% block content %}
<div class="row">
    <div class="col"></div>
    <div class="col-10 col-lg-6 border p-3">
      <h3 class="text-center">ประวัติของคุณ</h3>
      <div class="text-center w-100">
        {% if request.user.profile.image %}
        <img src="{{request.user.profile.image.url}}" alt="" width="300" height="300" class="rounded-circle border"
          style="object-fit: cover;">
        {% else %}
        <img src="{% static 'img/default_avatar.png' %}" alt="" width="300" height="300" class="rounded-circle border"
          style="object-fit: cover;">
        {% endif %}
      </div>
      <section class="mt-3">
        <form action="" method="post" novalidate enctype="multipart/form-data">
          {% csrf_token %}
  
          <!-- profile -->
          <section>
            <h5>ข้อมูลเบื้องต้น</h5>
  
            <!-- image -->
            {% with field=form.image %}
            <div class="mb-3">
              <label for="{{ field.id_for_label }}" class="form-label">{{field.label }}</label>
              {{field}}
              <div class="invalid-feedback">
                {{field.errors}}
              </div>
            </div>
            {% endwith %}
  
            <!-- name -->
            {% with field=form.name %}
            <div class="mb-3">
              <label for="{{ field.id_for_label }}" class="form-label">{{field.label }}</label>
              {{field}}
              <div class="invalid-feedback">
                {{field.errors}}
              </div>
            </div>
            {% endwith %}
  
            <!-- surname -->
            {% with field=form.surname %}
            <div class="mb-3">
              <label for="{{ field.id_for_label }}" class="form-label">{{field.label }}</label>
              {{field}}
              <div class="invalid-feedback">
                {{field.errors}}
              </div>
            </div>
            {% endwith %}
  
            <!-- email -->
            {% with field=form.email %}
            <div class="mb-3">
              <label for="{{ field.id_for_label }}" class="form-label">{{field.label }}</label>
              {{field}}
              <div class="invalid-feedback">
                {{field.errors}}
              </div>
            </div>
            {% endwith %}
  
            <!-- tel -->
            {% with field=form.tel %}
            <div class="mb-3">
              <label for="{{ field.id_for_label }}" class="form-label">{{field.label }}</label>
              {{field}}
              <div class="invalid-feedback">
                {{field.errors}}
              </div>
            </div>
            {% endwith %}
  
            <!-- birth_date -->
            {% with field=form.birth_date %}
            <div class="mb-3">
              <label for="{{ field.id_for_label }}" class="form-label">{{field.label }}</label>
              {{field}}
              <div class="invalid-feedback">
                {{field.errors}}
              </div>
            </div>
            {% endwith %}
  
            <!-- gender -->
            {% with field=form.gender %}
            <div class="mb-3">
              <label for="{{ field.id_for_label }}" class="form-label">{{field.label }}</label>
              {{field}}
              <div class="invalid-feedback">
                {{field.errors}}
              </div>
            </div>
            {% endwith %}
  
            <!-- information -->
            {% with field=form.information %}
            <div class="mb-3">
              <label for="{{ field.id_for_label }}" class="form-label">{{field.label }}</label>
              {{field}}
              <div class="invalid-feedback">
                {{field.errors}}
              </div>
            </div>
            {% endwith %}
  
          </section>
  
          <hr class="bg-danger border-2 border-top border-secondary my-3">
  
          <!-- authen -->
          <section>
            <h5>การเข้าสู่ระบบ</h5>
  
            <!-- username -->
            {% with field=form.username %}
            <div class="mb-3">
              <label for="{{ field.id_for_label }}" class="form-label">{{field.label }}</label>
              {{field}}
              <div class="invalid-feedback">
                {{field.errors}}
              </div>
            </div>
            {% endwith %}

            {{form.username.as_hidden}}
  
            <div class="mb-3">
              <label class="form-label">รหัสผ่าน</label>
              <a href="{% url 'accounts:change_password' %}">เปลี่ยนรหัสผ่าน</a>
            </div>
  
  
          </section>
  
          <hr class="bg-danger border-2 border-top border-secondary my-3">
  
          <!-- buttons -->
          <section class="text-center">
            <input type="submit" class="btn btn-primary w-25" value="ยืนยัน">
            <input type="reset" class="btn btn-danger w-25" value="รีเซ็ต">
          </section>
  
  
        </form>
      </section>
    </div>
    <div class="col"></div>
  </div>
{% endblock content %}